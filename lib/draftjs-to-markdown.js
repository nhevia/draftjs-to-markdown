!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.draftjsToMarkdown=e():t.draftjsToMarkdown=e()}(window,function(){return r={},o.m=n=[function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function i(e,n){e&&Object.keys(e).forEach(function(t){!{}.hasOwnProperty.call(e,t)||n(t,e[t])})}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e),n.d(e,"sameStyleAsPrevious",function(){return O}),n.d(e,"getStylesAtOffset",function(){return p}),n.d(e,"addInlineStyleMarkdown",function(){return h}),n.d(e,"addStylePropertyMarkdown",function(){return g}),n.d(e,"trimLeadingZeros",function(){return T}),n.d(e,"trimTrailingZeros",function(){return I}),n.d(e,"getBlockContentMarkdown",function(){return R}),n.d(e,"getBlockStyle",function(){return E}),n.d(e,"default",function(){return u});var s={unstyled:"","header-one":"# ","header-two":"## ","header-three":"### ","header-four":"#### ","header-five":"##### ","header-six":"###### ","unordered-list-item":"- ","ordered-list-item":"1. ",blockquote:"> ",code:"    "};function l(t,e,n,r){var o=t[e];if("function"==typeof r){var c=r(o,n);if(c)return c}return"MENTION"===o.type?"[".concat(n,"](").concat(o.data.url,")"):"LINK"===o.type?"[".concat(n,"](").concat(o.data.url,")"):"IMAGE"===o.type?"![".concat(o.data.alt||"","](").concat(o.data.src,")"):"EMBEDDED_LINK"===o.type?'<iframe width="'.concat(o.data.width,'" height="').concat(o.data.height,'" src="').concat(o.data.src,'" frameBorder="0" allowFullScreen />'):n}function d(t,e){var n=[],r=0,o=t.entityRanges.map(function(t){return{offset:t.offset,length:t.length,key:t.key,type:"ENTITY"}});return(o=(o=o.concat(function(t,e){var n=[];if(e)for(var r=0,o=0,c=t,u=e.trigger||"#",a=e.separator||" ";0<c.length&&0<=o;)if(c[0]===u?(r=o=0,c=c.substr(u.length)):0<=(o=c.indexOf(a+u))&&(c=c.substr(o+(a+u).length),r+=o+a.length),0<=o){var i=0<=c.indexOf(a)?c.indexOf(a):c.length,f=c.substr(0,i);f&&0<f.length&&n.push({offset:r,length:f.length+u.length,type:"HASHTAG"}),r+=u.length}return n}(t.text,e))).sort(function(t,e){return t.offset-e.offset})).forEach(function(t){t.offset>r&&n.push({start:r,end:t.offset-1}),n.push({start:t.offset,end:t.offset+t.length,entityKey:t.key,type:t.type}),r=t.offset+t.length}),r<t.text.length&&n.push({start:r,end:t.text.length}),n}function O(e,t,n){var r=!0;return 0<n&&n<e.length?t.forEach(function(t){r=r&&e[t][n]===e[t][n-1]}):r=!1,r}function p(t,e){var n={};return t.COLOR[e]&&(n.COLOR=t.COLOR[e]),t.BGCOLOR[e]&&(n.BGCOLOR=t.BGCOLOR[e]),t.FONTSIZE[e]&&(n.FONTSIZE=t.FONTSIZE[e]),t.FONTFAMILY[e]&&(n.FONTFAMILY=t.FONTFAMILY[e]),t.SUBSCRIPT[e]&&(n.SUBSCRIPT=!0),t.SUPERSCRIPT[e]&&(n.SUPERSCRIPT=!0),t.CODE[e]&&(n.CODE=!0),t.STRIKETHROUGH[e]&&(n.STRIKETHROUGH=!0),t.UNDERLINE[e]&&(n.UNDERLINE=!0),t.ITALIC[e]&&(n.ITALIC=!0),t.BOLD[e]&&(n.BOLD=!0),n}function y(t,e,n,r){var o,c,u,a,i=[],f=t.text;if(0<f.length)for(var s,l=(c=(o=t).text,u=o.inlineStyleRanges,a={COLOR:new Array(c.length),BGCOLOR:new Array(c.length),FONTSIZE:new Array(c.length),FONTFAMILY:new Array(c.length),SUBSCRIPT:new Array(c.length),SUPERSCRIPT:new Array(c.length),CODE:new Array(c.length),STRIKETHROUGH:new Array(c.length),UNDERLINE:new Array(c.length),ITALIC:new Array(c.length),BOLD:new Array(c.length),length:c.length},u&&0<u.length&&u.forEach(function(t){for(var e=t.offset,n=e+t.length,r=e;r<n;r+=1)0===t.style.indexOf("color-")?a.COLOR[r]=t.style.substring(6):0===t.style.indexOf("bgcolor-")?a.BGCOLOR[r]=t.style.substring(8):0===t.style.indexOf("fontsize-")?a.FONTSIZE[r]=t.style.substring(9):0===t.style.indexOf("fontfamily-")?a.FONTFAMILY[r]=t.style.substring(11):a[t.style]&&(a[t.style][r]=!0)}),a),d=n;d<r;d+=1)d!==n&&O(l,e,d)?(s.text.push(f[d]),s.end=d+1):(s={styles:p(l,d),text:[f[d]],start:d,end:d+1},i.push(s));return i}function c(t,e){var n={bold:["**","**"],italic:["*","*"],underline:["__","__"],strikethrough:["~~","~~"],code:["`","`"],superscript:["<sup>","</sup>"],subscript:["<sub>","</sub>"]};if(/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/gi.test(t))return t.replace(/\__|\*\*|\*|~~|\`|\<sup\>|\<\/sup\>|\<sub\>|\<\/sub\>/gi,"");var r=t.charAt(0),o=t.charAt(t.length-1),c=t.trim();return" "===r?" ".concat(n[e][0]).concat(c).concat(n[e][1]):" "===o?"".concat(n[e][0]).concat(c).concat(n[e][1]," "):" "===r&&" "===o?" ".concat(n[e][0]).concat(c).concat(n[e][1]," "):"".concat(n[e][0]).concat(t).concat(n[e][1])}function h(t,e){return"BOLD"===t?c(e,"bold"):"ITALIC"===t?c(e,"italic"):"UNDERLINE"===t?c(e,"underline"):"STRIKETHROUGH"===t?c(e,"strikethrough"):"CODE"===t?c(e,"code"):"SUPERSCRIPT"===t?c(e,"superscript"):"SUBSCRIPT"===t?c(e,"subscript"):e}function g(t){var e,n=t.styles,r=t.text,o=(e=r)&&0<e.length?e.map(function(t){switch(t){case"\n":return"\\s\\s\n";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return t}}).join(""):"";if(n&&(n.COLOR||n.BGCOLOR||n.FONTSIZE||n.FONTFAMILY)){var c='style="';return n.COLOR&&(c+="color: ".concat(n.COLOR,";")),n.BGCOLOR&&(c+="background-color: ".concat(n.BGCOLOR,";")),n.FONTSIZE&&(c+="font-size: ".concat(n.FONTSIZE,"px;")),n.FONTFAMILY&&(c+="font-family: ".concat(n.FONTFAMILY,";")),"<span ".concat(c+='"',">").concat(o,"</span>")}return o}function b(c,t,e,n){var r=[],o=y(c,["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"],e.start,e.end),u="";o.forEach(function(t){var e,n,r=y(c,["COLOR","BGCOLOR","FONTSIZE","FONTFAMILY"],t.start,t.end),o="";r.forEach(function(t){o+=g(t)}),u+=(e=t.styles,n=o,i(e,function(t,e){n=h(t,n)}),n)}),r.push(u);var a=r.join("");return"ENTITY"===e.type?void 0!==e.entityKey&&null!==e.entityKey&&(a=l(t,e.entityKey,a,n)):"HASHTAG"===e.type&&(a="[".concat(a,"](").concat(a,")")),a}function T(t){if(t){for(var e=t,n=0;n<e.length&&" "===t[n];n+=1)e=e.replace(" ","&nbsp;");return e}return t}function I(t){if(t){for(var e=t,n=e.length-1;0<=n&&" "===e[n];--n)e="".concat(e.substring(0,n),"&nbsp;").concat(e.substring(n+1));return e}return t}function R(r,o,t,c){if(0<(e=r).entityRanges.length&&(null==(n=e.text)||0===n.length||0===n.trim().length))return l(o,r.entityRanges[0].key,void 0,c);var e,n,u=[],a=d(r,t);return a.forEach(function(t,e){var n=b(r,o,t,c);0===e&&(n=T(n)),e===a.length-1&&(n=I(n)),u.push(n)}),u.join("")}function E(t){var n="";return i(t,function(t,e){n+="".concat(t,":").concat(e,";")}),n}function S(t,e,n,r,o,c){var u=[];u.push(e[t.type]);var a,i,f,s=R(t,n,r,o);return t.data&&(a=t.data,i=s,s=(f=E(a))?'<span style="'.concat(f,'">').concat(i,"</span>"):i),u.push(s),u.push(c&&c.emptyLineBeforeBlock?"\n\n":"\n"),u.join("")}function u(t,r,o,c){var u=[];if(t){var a=f(f({},s),c&&c.blockTypesMapping&&c.blockTypesMapping),e=t.blocks,i=t.entityMap;e&&0<e.length&&e.forEach(function(t){var e,n=S(t,a,i,r,o,c);"unordered-list-item"!==(e=t.type)&&"ordered-list-item"!==e||(n=function(t){for(var e="",n=0;n<4*t;n+=1)e+=" ";return e}(t.depth)+n),u.push(n)})}return u.join("")}}],o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0);function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var n,r});